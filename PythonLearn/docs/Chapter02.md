# 第二讲 ：列表简介

[TOC]

## 序列类型
### 定义

1. 序列是具有**先后关系**的一组元素
2. 序列是一维元素向量，元素类型可以不同
3. 元素间由序号引导，通过下标访问序列的特定元素
4. Python语言中很多数据类型都是序列类型，其中比较重要的是字符串类型，元组类型和列表类型。

### 通用操作符和函数

|操作符|	描述|
|:---:|:---:|
|x in s	|如果x是序列s的元素，返回True，否则返回False|
|x not in s	|如果x是序列s的元素，返回False，否则返回True|
|s + t	|连接两个序列s 和 t|
|s* n 或 n*s	|将序列s复制n次|
|s[i]	|索引，返回s中的第i个元素，i是序列的序号|
|s[i:j]	|分片，返回包含序列s第i到j个元素的子序列（不包含第j个元素）|
|s[i: j: k]	|步骤分片，返回包含序列s第i到j个元素以k为步长的子序列|

代码演示 :

```python
>>> Is=["python","abc","123"]
>>> "abc" in Is
True
>>> Is1=["good"]
>>> Is+Is1
['python', 'abc', '123', 'good']
>>> Is*2
['python', 'abc', '123', 'python', 'abc', '123']
>>> Is[0]
'python'
>>> Is[0:2]
['python', 'abc']
>>> Is[0:4:2]
['python', '123']
>>> Is[::-1]	# 见上一章， -1是逆序排列
['123', 'abc', 'python']
```

|函数和方法|	描述|
|:--:|:--:|
|len(s)	|返回序列s的长度，即元素个数|
|min(s)	|返回序列s的最小元素，s中元素需要能比较|
|max(s)	|返回序列s的最大元素，s中元素需要能比较|
|s.index(x) 或s.index(x, i, j)	|返回序列s从i开始到j位置中第一次出现元素x的位置|
|s.count(x)	|返回序列s中出现x的总次数|

**代码演示：**

```python
>>> s=["abc","123","python","good","123"]
>>> len(s)
5
>>> max(s)
'python'
>>> min(s)
'123'
>>> s.index("123")
1
>>> s.count("123")
2
```

## 元组

### 定义

1. 元组是序列类型的一种扩展
2. 元组是一种序列类型，**一旦创建就不能被修改**
3. 使用**小括号 () 或 tuple()** 创建，元素间用逗号分隔
4. 可以使用或不使用小括号
4. 通常元组用于保存程序中不可修改的内容，创建元组时直接赋值即可。

下列两种形式都是元组：

```python
food = "水饺","灌汤包"
food = ("韩国炸鸡",)
```

下例则只是定义一个字符串：

```python
food = ("韩国炸鸡")
```

在这里有一个和列表相同用法的转换方式：

```python
tuple(data)
```

对符合元组的访问类似于C++中的二维数组形式：

```python
>>> food = ('abc',28,('炒酸奶','烤面筋'))
>>> print(food[2])
('炒酸奶', '烤面筋')
>>> print(food[2][0])
炒酸奶
>>> print(food[2][1])
烤面筋
```



### 元组类型操作

元组继承了序列类型的全部通用操作，但是由于创建后不能修改，因此没有特殊操作

**代码演示**：

```python
>>> s='good','python','123'
>>> s
('good', 'python', '123')
>>> s[0]
'good'
>>> s[::-1]
('123', 'python', 'good')
>>> tf=(s,'abc')	# s本身就是一个元组
>>> tf
(('good', 'python', '123'), 'abc')
>>> tf[0][2]
'123'
```

**①元组元素的修改：**

元组中的元素是无法直接修改的，但我们可以通过元组的重新赋值、连接组合进行修改，注意，元组只能和元组进行组合，除此之外的其他组合都会报错；数组连接时如果连接的数组只有一个元素一定不要忘记后面的逗号

**②元组推导式：**

与列表几乎完全一致，把[ ]改为()即可，但元组推导式的结果不是一个元组或列表，而是一个生成器对象，转换为元组使用tuple()，转换为列表则使用list()


## 列表

### 定义

1. 列表是序列类型的一种扩展，十分常用
2. **列表是一种序列类型，创建后可以随意被修改**
3. **使用方括号 [] 或list() 创建**，元素间用逗号 , 分隔
4. **列表中各元素类型可以不同，无长度限制**

### 列表方法函数介绍

|函数或方法|描述|
|:--:|:--:|
|ls[i] = x	|列表ls第i元素替换为x|
|ls[i: j: k] = lt|	用列表lt替换ls切片后所对应元素子列表|
|del ls[i]	|删除列表ls中第i元素|
|del ls[i: j: k]|	删除列表ls中第i到第j以k为步长的元素|
|ls += lt|	更新列表ls，将列表lt元素增加到列表ls中|
|ls *= n|	更新列表ls，其元素重复n次|

代码演示：

```python
>>> Is=["123","abc","good"]
>>> Is[0]="1234"
>>> Is
['1234', 'abc', 'good']
>>> Is[0:2]=[1,2,3,"4"]
>>> Is
[1, 2, 3, '4', 'good']
>>> del Is[3]
>>> Is
[1, 2, 3, 'good']
>>> del Is[0:3:2]
>>> Is
[2, 'good']
>>> Is*=2
>>> Is
[2, 'good', 2, 'good']
```

|函数或方法	|描述|
|:--:|:--:|
|ls.append(x)	|在列表ls最后增加一个元素x|
|ls.clear()	|删除列表ls中所有元素|
|ls.copy()	|生成一个新列表，赋值ls中所有元素|
|ls.insert(i,x)	|在列表ls的第i位置增加元素x|
|ls.pop(i)	|将列表ls中第i位置元素取出并删除该元素|
|ls.remove(x)	|将列表ls中出现的第一个元素x删除|
|ls.reverse()|	将列表ls中的元素反转|
|list()|将序列强制转化成列表|
|str() |序列转换为字符串|
|sum()|求和|
|sort(),sorted()|排序，会重点说明|
|reversed()|直接翻转列表|
|enumerate()|将序列组合为索引序列|

代码演示:

```python
>>> Is=["123","abc","python","good","abc"]
>>> Is.append("1234")
>>> Is
['123', 'abc', 'python', 'good', 'abc', '1234']
>>> Is1=Is.copy()
>>> Is1
['123', 'abc', 'python', 'good', 'abc', '1234']
>>> Is.clear()
>>> Is
[]
>>> Is1.insert(1,"abcd")
>>> Is1
['123', 'abcd', 'abc', 'python', 'good', 'abc', '1234']
>>> Is1.pop(1)
'abcd'
>>> Is1
['123', 'abc', 'python', 'good', 'abc', '1234']
>>> Is1.remove("abc")
>>> Is1
['123', 'python', 'good', 'abc', '1234']
>>> Is1.reverse()
>>> Is1
['1234', 'abc', 'good', 'python', '123']
>>> 
```

**list(data)**举例

```python
list(range(10,20,2))
```

得到列表

```python
[10,12,14,16,18]
```

关于**sort()和sorted()**，先讨论sort()函数，其基本用法：

```python
listname.sort(key= ,reverse= )
```

* listname.sort是排序函数的使用
* key提取关键字，比如key=str.lower表示在排序是不区分大小写，因为默认状态下对英文字符串排序先排大写再排小写，这与ASCII码有关
* reverse如果指定为True，则排序后会再翻转列表
  sorted()在用法上与其完全一致，**唯一不同点是sorted()会建立一个原列表的副本，该副本为排序后的列表，还是相当于深拷贝与浅拷贝的概念**

**!易错点辨析！**

> **如果是list1 = list2则该拷贝是一种浅拷贝，仅仅是一种指针形式由list1指向2，而将切片列表中省略只留[:],如：list3[:]表示复制整个名称为list3的序列。**

#### 列表的遍历

##### ① 直接使用for循环
```python
list1 = ["烤面筋","里脊扒饼","炸鲜奶"]
for item in list1:
	print(item)
```
##### ② 使用for＋enumerate()

使用组合可以同时输出索引值和元素内容
```python
list1 = ["烤面筋","里脊扒饼","炸鲜奶"]
for index,item in enumerate(list1):
	print(index+1,item)
```
输出：
```
1 烤面筋
2 里脊扒饼
3 炸鲜奶
```

#### **列表元素的添加修改和删除**

添加有三种方法：

- append() 列表末尾添加
- extend() 列表末尾添加一个列表，注意内部一定要加[ ]
- insert()某一元素前插入元素，执行效率较低不推荐使用。

修改元素直接赋值即可，**删除元素使用del**，如：

```python
list1 = ["烤面筋","里脊扒饼","炸鲜奶"]
del list1[-1]
print(list1)
```

输出结果：
```python
['烤面筋', '里脊扒饼']
```
**如果要将一个不确定位置只确定元素值进行删除则使用remove()函数**，**要注意上面的del不是一个函数而是一条语句，它是索引式的删除。**

```python
list1 = ["烤面筋","里脊扒饼","炸鲜奶"]
list1.remove("炸鲜奶")
print(list1)
```
#### 列表的统计计算

- count() 计数
- index()获取指定元素首次出现的位置
- sum()求和

#### 列表推导式

语法格式：
```
listname = [Expression for var in LIST]

 - Ex 计算表达式
 - var 循环变量
 - LIST 计算范围
```

筛选条件列表：
```python
newlist = [Expression for var in list if condition]
```



## 集合

### 定义

1. 集合是多个元素的无序组合

2. **集合元素之间无序，每个元素唯一，不存在相同元素（应用于数据去重，即集合类型所有元素无重复）**

3. **集合元素不可更改，不能是可变数据类型**

4. 集合用大括号 {} 表示，元素间用逗号分隔

5. 建立集合类型用 {} 或 set()

6. **建立空集合类型，必须使用set()**

### 集合操作符
|操作符及应用|	描述|
|:--:|:--:|
|S I T	|并，**返回一个新集合**，包括在集合S和T中的所有元素|
|S - T	|差，**返回一个新集合**，包括在集合S但不在T中的元素|
|S & T	|交，**返回一个新集合**，包括同时在集合S和T中的元素|
|S ^ T	|补，**返回一个新集合**，包括集合S和T中的非相同元素|
|S <= T 或 S < T|	返回True/False，判断S和T的子集关系|
|S >= T 或 S > T|	返回True/False，判断S和T的包含关系|
|S I= T	|并，**更新集合S**，包括在集合S和T中的所有元素|
|S -= T	|差，**更新集合S**，包括在集合S但不在T中的元素|
|S &= T	|交，**更新集合S**，包括同时在集合S和T中的元素|
|S ^= T	|补，**更新集合S**，包括集合S和T中的非相同元素|
### 集合类型的操作函数
|操作函数或方法	|描述|
|:--:|:--:|
|S.add(x)	|如果x不在集合S中，将x增加到S|
|S.discard(x)|	移除S中元素x，如果x不在集合S中，不报错|
|S.remove(x)|	移除S中元素x，如果x不在集合S中，产生KeyError异常|
|S.clear()	|移除S中所有元素|
|S.pop()	|随机返回S的一个元素，更新S，若S为空，则产生KeyError异常|
|S.copy()	|返回集合S的一个副本|
|len(S)|	返回集合S的元素个数|
|x in S	|判断S中元素x，x在集合S中，返回True，否则返回False|
|x not in S|	判断S中元素x，x不在集合S中，返回True，否则返回False|
|set(x)	|将其他类型变量x转变为集合类型|

代码演示：

**注意：字符串“123”与123的区别**

```python
>>> S={123,"123","abc","python"}
>>> S.add(1)
>>> S
{'abc', 123, 'python', 1, '123'}
>>> S.discard(123)
>>> S
{'abc', 'python', 1, '123'}
>>> S.pop()
'abc'
>>> len(S)
3
>>> S
{'python', 1, '123'}
>>> "123" in S
True
>>> 123 in S
False
>>> list=(1,2,3,4,5)
>>> list
(1, 2, 3, 4, 5)
>>> set(list)
{1, 2, 3, 4, 5}
```

